/*オノマトペ　カード*/
@use "../../foundation/variables.scss" as var;
@use "../../foundation/mixin.scss";

.c-card{
    display: inline-grid;
    align-content: space-around;
    justify-items: center;
    box-sizing: border-box;

    position: relative; // スタンプの配置基準にするため追加
    overflow: hidden; // スタンプがはみ出ないように

    margin-bottom: var.$spacing-s;
    padding: var.$spacing-xs;
   

    width: 160px;
    height: 200px;

    border-radius: 10px;
    box-shadow: 0 4px 4px var.$color-shadow;

    transition: transform 0.3s ease, box-shadow 0.3s ease;
    
    // クリックできるよ、と伝えるためにカーソルを指にする
    cursor: pointer;

    // ホバーした時の動き
    &:hover {
        // 上に 5px 移動する
        transform: translateY(-5px);
        
        // 影を少し大きく・薄くして、浮遊感を出す
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
    }
    // カーソルホバー時の動き（既存のものにfilterのtransitionが効くように調整）
    &:hover &__image {
        transform: scale(1.1);
    }

    &__image{
        width: 125px;
        height: 125px;
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;

        filter: grayscale(100%);
        // ふわっとカラーになるようにアニメーション設定
        transition: filter 0.5s ease, transform 0.3s ease;
            

       // ぽかぽか
        &--pokapoka {
            background-image: url('../image/w_pokapoka.png'); 
        }

        // きらきら
        &--kirakira {
            background-image: url('../image/w_kirakira.png'); 
        }

        // ざーざー
        &--zaza {
            background-image: url('../image/w_zaza.png');
        }

        // ごろごろ
        &--gorogoro {
            background-image: url('../image/w_gorogoro.png');
        }

        // ふわふわ
        &--fuwafuwa {
            background-image: url('../image/w_fuwafuwa.png');
        }

        // シー
        &--shii {
            background-image: url('../image/w_shii.png');
        }

        // しーん
        &--shiin {
            background-image: url('../image/w_shiin.png');
        }

        // にこにこ
        &--nikoniko {
            background-image: url('../image/w_niconico.png');
        }
    
        &--mochimochi {
            background-image: url('../image/w_mochimochi.png');
        }

        
        &--tsurutsuru {
            background-image: url('../image/w_tsurutsuru.png');
        }
    
    }

    &__text{
        color: var.$color-primary;
        font-weight: bold;
        text-align: end;
    }




    &--orenge{
        background-color: var.$color-orenge;
    }
    &--blue{
        background-color: var.$color-blue;
    }
    &--green{
        background-color: var.$color-green;
    }
    &--pink{
        background-color: var.$color-pink;
    }
    &--purple{
        background-color: var.$color-purple;
    }
    &--red{
        background-color: var.$color-red;
    }
    &--yellow{
        background-color: var.$color-yellow;
    }
    
    // ==================================================================
    // 達成状態 (.is-completed) のスタイル
    // ==================================================================
    &.is-completed {
        // 1. 画像をカラーに戻す
        .c-card__image {
            filter: grayscale(0%);
        }

        // 2. 達成スタンプを表示する (擬似要素で作成)
        &::after {
            content:'✔'; // スタンプの文字（画像にすることも可能）
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
            top: 5px;
            right: 5px;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 215, 0, 0.9); // 金色っぽい背景
            color: var.$color-primary;
            font-weight: bold;
            font-size: 18px;
            border-radius: 50%;
            border: 2px solid var.$color-primary;
            box-shadow: 0 2px 5px var.$color-shadow;
            transform: rotate(15deg); // 少し傾ける
            z-index: 10;
            pointer-events: none; // スタンプがクリックを邪魔しないように
            animation: stampPoyon 0.5s ease-out; // 押された時のアニメーション
        }
    }
    
}
// スタンプが押された時のアニメーション定義（ファイルの最後などに追加）
@keyframes stampPoyon {
    0% { opacity: 0; transform: scale(3) rotate(15deg); }
    60% { transform: scale(0.8) rotate(15deg); }
    100% { opacity: 1; transform: scale(1) rotate(15deg); }
}